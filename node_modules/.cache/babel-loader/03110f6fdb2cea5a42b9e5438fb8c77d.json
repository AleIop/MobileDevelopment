{"ast":null,"code":"import _classCallCheck from\"/Users/Alessandro/Documents/GitHub/mobut-project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/Alessandro/Documents/GitHub/mobut-project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/Alessandro/Documents/GitHub/mobut-project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/Alessandro/Documents/GitHub/mobut-project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import'./App.css';import{Provider}from'react-redux';import store from'./redux/store.js';import{createNewGame,createFakeLobby,addPlayerToLobby,stopListeningToLobby,ListenToPlayersInLobby,getPlayersInLobby,setPlayerReadyStatus}from\"./components/firebase-database.component\";import Lobby from'./components/Lobby.js';import{v4 as uuidv4}from'uuid';var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);var _super=_createSuper(App);function App(){var _this;_classCallCheck(this,App);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.updatePlayerReadyState=function(id,readyState){_this.setState({allPlayers:_this.state.allPlayers.map(function(player){if(player.id===id){player.ready=readyState;}return player;})});};_this.getPlayerById=function(id){var allPlayers=getPlayersInLobby();var player;for(var i=0;i<allPlayers.length;i++){player=allPlayers[i];if(player.id===id){return player;}}return{id:id,name:'',ready:false,imgURL:''};};return _this;}_createClass(App,[{key:\"componentDidMount\",value:function componentDidMount(){var userID=uuidv4();console.log(userID);ListenToPlayersInLobby(function(data){this.setState({playersInLobby:data});console.log('data :',data);});createFakeLobby();}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(Provider,{store:store},/*#__PURE__*/React.createElement(\"div\",{className:\"App\"},/*#__PURE__*/React.createElement(Lobby,{you:this.getPlayerById('Bengt'),allPlayers:this.state.playersInLobby,updatePlayerReadyState:setPlayerReadyStatus})));}}]);return App;}(Component);export default App;","map":{"version":3,"sources":["/Users/Alessandro/Documents/GitHub/mobut-project/src/App.js"],"names":["React","Component","Provider","store","createNewGame","createFakeLobby","addPlayerToLobby","stopListeningToLobby","ListenToPlayersInLobby","getPlayersInLobby","setPlayerReadyStatus","Lobby","v4","uuidv4","App","updatePlayerReadyState","id","readyState","setState","allPlayers","state","map","player","ready","getPlayerById","i","length","name","imgURL","userID","console","log","data","playersInLobby"],"mappings":"4oBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAO,WAAP,CACA,OAASC,QAAT,KAAyB,aAAzB,CACA,MAAOC,CAAAA,KAAP,KAAkB,kBAAlB,CACA,OAASC,aAAT,CAAwBC,eAAxB,CAAyCC,gBAAzC,CAA2DC,oBAA3D,CAAiFC,sBAAjF,CAAyGC,iBAAzG,CAA4HC,oBAA5H,KAAwJ,0CAAxJ,CACA,MAAOC,CAAAA,KAAP,KAAkB,uBAAlB,CACA,OAASC,EAAE,GAAIC,CAAAA,MAAf,KAA6B,MAA7B,C,GAGMC,CAAAA,G,+SAeJC,sB,CAAyB,SAACC,EAAD,CAAKC,UAAL,CAAoB,CAC3C,MAAKC,QAAL,CAAc,CACZC,UAAU,CACR,MAAKC,KAAL,CAAWD,UAAX,CAAsBE,GAAtB,CAA0B,SAACC,MAAD,CAAY,CACpC,GAAIA,MAAM,CAACN,EAAP,GAAcA,EAAlB,CAAsB,CACpBM,MAAM,CAACC,KAAP,CAAeN,UAAf,CACD,CACD,MAAOK,CAAAA,MAAP,CACD,CALD,CAFU,CAAd,EAUD,C,OAIDE,a,CAAgB,SAACR,EAAD,CAAQ,CACtB,GAAMG,CAAAA,UAAU,CAAGV,iBAAiB,EAApC,CACA,GAAIa,CAAAA,MAAJ,CACA,IAAK,GAAIG,CAAAA,CAAC,CAAG,CAAb,CAAgBA,CAAC,CAAGN,UAAU,CAACO,MAA/B,CAAuCD,CAAC,EAAxC,CAA4C,CAC1CH,MAAM,CAAGH,UAAU,CAACM,CAAD,CAAnB,CACA,GAAIH,MAAM,CAACN,EAAP,GAAcA,EAAlB,CAAsB,CACpB,MAAOM,CAAAA,MAAP,CACD,CACF,CACD,MAAO,CACLN,EAAE,CAAEA,EADC,CAELW,IAAI,CAAE,EAFD,CAGLJ,KAAK,CAAE,KAHF,CAILK,MAAM,CAAE,EAJH,CAAP,CAMD,C,4FA3CmB,CAClB,GAAIC,CAAAA,MAAM,CAAGhB,MAAM,EAAnB,CACAiB,OAAO,CAACC,GAAR,CAAYF,MAAZ,EAEArB,sBAAsB,CAAC,SAAUwB,IAAV,CAAgB,CACrC,KAAKd,QAAL,CAAc,CACZe,cAAc,CAAED,IADJ,CAAd,EAGAF,OAAO,CAACC,GAAR,CAAY,QAAZ,CAAsBC,IAAtB,EACD,CALqB,CAAtB,CAMA3B,eAAe,GAChB,C,uCAkCQ,CACP,mBACE,oBAAC,QAAD,EAAU,KAAK,CAAEF,KAAjB,eACE,2BAAK,SAAS,CAAC,KAAf,eACE,oBAAC,KAAD,EACE,GAAG,CAAE,KAAKqB,aAAL,CAAmB,OAAnB,CADP,CAEE,UAAU,CAAE,KAAKJ,KAAL,CAAWa,cAFzB,CAGE,sBAAsB,CAAEvB,oBAH1B,EADF,CADF,CADF,CAWD,C,iBA3DeT,S,EA8DlB,cAAea,CAAAA,GAAf","sourcesContent":["import React, { Component } from 'react';\nimport './App.css';\nimport { Provider } from 'react-redux';\nimport store from './redux/store.js';\nimport { createNewGame, createFakeLobby, addPlayerToLobby, stopListeningToLobby, ListenToPlayersInLobby, getPlayersInLobby, setPlayerReadyStatus } from \"./components/firebase-database.component\";\nimport Lobby from './components/Lobby.js';\nimport { v4 as uuidv4 } from 'uuid';\n\n\nclass App extends Component {\n\n  componentDidMount() {\n    let userID = uuidv4();\n    console.log(userID);\n\n    ListenToPlayersInLobby(function (data) {\n      this.setState({\n        playersInLobby: data\n      });\n      console.log('data :', data);\n    });\n    createFakeLobby();\n  }\n\n  updatePlayerReadyState = (id, readyState) => {\n    this.setState({\n      allPlayers: (\n        this.state.allPlayers.map((player) => {\n          if (player.id === id) {\n            player.ready = readyState;\n          }\n          return player;\n        })\n      )\n    });\n  };\n\n\n\n  getPlayerById = (id) => {\n    const allPlayers = getPlayersInLobby();\n    let player;\n    for (let i = 0; i < allPlayers.length; i++) {\n      player = allPlayers[i];\n      if (player.id === id) {\n        return player;\n      }\n    }\n    return {\n      id: id,\n      name: '',\n      ready: false,\n      imgURL: ''\n    }\n  };\n\n  render() {\n    return (\n      <Provider store={store}>\n        <div className=\"App\">\n          <Lobby\n            you={this.getPlayerById('Bengt')}\n            allPlayers={this.state.playersInLobby}\n            updatePlayerReadyState={setPlayerReadyStatus}\n          />\n        </div>\n      </Provider>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}